<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Card Picking</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Quicksand', Arial, sans-serif;
      min-height: 100vh;
      background:
        linear-gradient(rgba(255,255,255,0.65), rgba(255,255,255,0.65)),
        url("verse.png") no-repeat center center / cover;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
      box-sizing: border-box;
    }

    h1 {
      font-family: 'Baloo 2', cursive;
      margin-bottom: 10px;
    }

    /* index 돌아가기 버튼 */
    .back-home {
      margin-bottom: 25px;
      text-decoration: none;
      color: #333;
      background: white;
      padding: 10px 22px;
      border-radius: 20px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.18);
      transition: transform 0.2s ease;
      font-size: 14px;
    }

    .back-home:hover {
      transform: translateY(-2px);
    }

    /* 카테고리 버튼 */
    .categories {
      display: flex;
      gap: 16px;
      margin-bottom: 40px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .category {
      background: white;
      padding: 14px 24px;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(0,0,0,0.18);
      transition: transform 0.2s ease;
      font-weight: 500;
    }

    .category:hover {
      transform: translateY(-2px);
    }

    /* 카드 영역 */
    .cards {
      display: flex;
      gap: 25px;
      perspective: 1200px;
    }

    .card {
      width: 220px;
      height: 300px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 1.6s ease;
    }

    .card.flipping {
      transform: rotateY(720deg);
    }

    .card.revealed {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
      box-sizing: border-box;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
    }

    .front {
      background: #ffffff;
      font-size: 20px;
      font-weight: 500;
    }

    .back {
      background: #333;
      color: white;
      transform: rotateY(180deg);
      font-size: 16px;
      line-height: 1.6;
    }

    .hidden {
      display: none;
    }

    @media (max-width: 768px) {
      .cards {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  <h1>Pick Your Cards</h1>
  <a href="index.html" class="back-home">Back to Home</a>

  <!-- 카테고리 -->
  <div class="categories">
    <div class="category" onclick="drawCards('emotions')">Emotions</div>
    <div class="category" onclick="drawCards('relationships')">Relationships</div>
    <div class="category" onclick="drawCards('self')">Self</div>
    <div class="category" onclick="drawCards('choices')">Choices</div>
    <div class="category" onclick="drawCards('values')">Values</div>
  </div>

  <!-- 카드 -->
  <div class="cards hidden" id="cardArea">
    <div class="card">
      <div class="card-face front">Drawing...</div>
      <div class="card-face back"></div>
    </div>
    <div class="card">
      <div class="card-face front">Drawing...</div>
      <div class="card-face back"></div>
    </div>
    <div class="card">
      <div class="card-face front">Drawing...</div>
      <div class="card-face back"></div>
    </div>
  </div>

  <script>
    const questions = {
      emotions: [
        "What emotion do you feel most often these days?",
        "When was the last time you felt truly calm?",
        "What emotion is hardest for you to express?",
        "What usually triggers your stress?",
        "How do you deal with sadness?",
        "What makes you feel emotionally safe?",
        "Do you hide your emotions easily?",
        "What emotion do you want to understand better?",
        "What makes you feel grateful?",
        "When do you feel most like yourself?"
      ],
      relationships: [
        "What makes a relationship feel safe to you?",
        "How do you usually show care to others?",
        "What do you value most in friendships?",
        "What kind of person do you trust easily?",
        "How do you handle conflict with others?",
        "Who has influenced your life the most?",
        "What kind of relationship do you want more of?",
        "What is hard for you to ask from others?",
        "How do you set boundaries?",
        "What makes you feel connected to someone?"
      ],
      self: [
        "How would you describe yourself in one word?",
        "What are you proud of lately?",
        "What habit do you want to change?",
        "When do you feel confident?",
        "What do you struggle with the most?",
        "What helps you reset?",
        "What part of yourself are you still learning about?",
        "What motivates you?",
        "What do you need more of in your life?",
        "How do you treat yourself when things go wrong?"
      ],
      choices: [
        "What decision changed your life?",
        "How do you usually make big decisions?",
        "What choice are you avoiding?",
        "What helps you decide confidently?",
        "Do you follow logic or feelings more?",
        "What was a hard choice you made?",
        "What would you choose differently now?",
        "What matters most when you choose?",
        "How do you deal with regret?",
        "What choice are you proud of?"
      ],
      values: [
        "What value guides your life?",
        "What do you stand for?",
        "What value has changed over time?",
        "What matters more than success?",
        "What do you refuse to compromise?",
        "What makes life meaningful to you?",
        "What do you believe strongly in?",
        "What value do you look for in others?",
        "What value do you want to pass on?",
        "What keeps you grounded?"
      ]
    };

    function drawCards(category) {
      const cardArea = document.getElementById("cardArea");
      const cards = document.querySelectorAll(".card");

      cardArea.classList.remove("hidden");

      const shuffled = [...questions[category]].sort(() => 0.5 - Math.random());
      const selected = shuffled.slice(0, 3);

      cards.forEach((card, i) => {
        card.classList.remove("flipping", "revealed");
        card.querySelector(".back").innerText = selected[i];
        card.querySelector(".front").innerText = "Drawing...";

        setTimeout(() => {
          card.classList.add("flipping");

          setTimeout(() => {
            card.classList.remove("flipping");
            card.classList.add("revealed");
          }, 1600);

        }, 300 + i * 300);
      });
    }
  </script>

</body>
</html>
