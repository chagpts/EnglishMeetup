<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Card Picking</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Quicksand', Arial, sans-serif;
      min-height: 100vh;
      background:
        linear-gradient(rgba(255,255,255,0.65), rgba(255,255,255,0.65)),
        url("verse.png") no-repeat center center / cover;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
      box-sizing: border-box;
    }

    h1 {
      font-family: 'Baloo 2', cursive;
      margin-bottom: 30px;
    }

    /* 카테고리 버튼 */
    .categories {
      display: flex;
      gap: 20px;
      margin-bottom: 40px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .category {
      background: white;
      padding: 16px 26px;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(0,0,0,0.18);
      transition: transform 0.2s ease;
      font-weight: 500;
    }

    .category:hover {
      transform: translateY(-2px);
    }

    /* 카드 영역 */
    .cards {
      display: flex;
      gap: 25px;
      perspective: 1200px;
    }

    .card {
      width: 220px;
      height: 300px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 1.6s ease;
    }

    .card.flipping {
      transform: rotateY(720deg);
    }

    .card.revealed {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
      box-sizing: border-box;
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
    }

    .front {
      background: #ffffff;
      font-size: 20px;
      font-weight: 500;
    }

    .back {
      background: #333;
      color: white;
      transform: rotateY(180deg);
      font-size: 16px;
      line-height: 1.6;
    }

    .hidden {
      display: none;
    }

    @media (max-width: 768px) {
      .cards {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  <h1>Pick Your Cards</h1>

  <!-- 카테고리 -->
  <div class="categories">
    <div class="category" onclick="drawCards('emotions')">Emotions</div>
    <div class="category" onclick="drawCards('relationships')">Relationships</div>
    <div class="category" onclick="drawCards('self')">Self</div>
    <div class="category" onclick="drawCards('choices')">Choices</div>
    <div class="category" onclick="drawCards('values')">Values</div>
  </div>

  <!-- 카드 -->
  <div class="cards hidden" id="cardArea">
    <div class="card">
      <div class="card-face front">Drawing...</div>
      <div class="card-face back"></div>
    </div>
    <div class="card">
      <div class="card-face front">Drawing...</div>
      <div class="card-face back"></div>
    </div>
    <div class="card">
      <div class="card-face front">Drawing...</div>
      <div class="card-face back"></div>
    </div>
  </div>

  <script>
    const questions = {
      emotions: [
        "What emotion do you feel most often these days?",
        "When was the last time you felt truly calm?",
        "What emotion is hardest for you to express?",
        "What usually triggers your stress?",
        "How do you deal with sadness?",
        "What makes you feel emotionally safe?",
        "Do you hide your emotions easily?",
        "What emotion do you want to understand better?",
        "What makes you feel grateful?",
        "When do you feel most like yourself?"
      ]
    };

    function drawCards(category) {
      const cardArea = document.getElementById("cardArea");
      const cards = document.querySelectorAll(".card");

      cardArea.classList.remove("hidden");

      // 질문 섞기
      const shuffled = [...questions[category]].sort(() => 0.5 - Math.random());
      const selected = shuffled.slice(0, 3);

      cards.forEach((card, i) => {
        card.classList.remove("flipping", "revealed");
        card.querySelector(".back").innerText = selected[i];
        card.querySelector(".front").innerText = "Drawing...";

        setTimeout(() => {
          card.classList.add("flipping");

          setTimeout(() => {
            card.classList.remove("flipping");
            card.classList.add("revealed");
          }, 1600);

        }, 300 + i * 300);
      });
    }
  </script>

</body>
</html>
